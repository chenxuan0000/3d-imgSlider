/*
 **auther :chenxuan
 **date : 2017-4-15
 */(function(c){c.fn.css3Slider=function(a){a=c.extend({},c.fn.css3Slider.defaults,a);var k=c("#"+a.containerId),d=k.children(),g=d.children(),h=g.length,p=360/h,l=0,q=0,m=0,n=0,e=a.containerWidth/(2*Math.tan(Math.PI/h)),r="@keyframes scroll{0% {transform: translateZ( -"+e+"px) rotateY(0deg);}\n100%{transform: translateZ( -"+e+"px) rotateY(360deg);}}";k.height(a.containerHeight).width(a.containerWidth).css("perspective",a.perspective+"px");d.css("transform"," translateZ( -"+e+"px)");g.each(function(b,a){a.style.transform="rotateY( "+b*p+"deg) translateZ( "+e+"px)"});g=document.createElement("style");g.type="text/css";document.getElementsByTagName("head")[0].appendChild(g);this.stylesheet=document.styleSheets[document.styleSheets.length-1];try{this.stylesheet.insertRule(r,this.stylesheet.rules.length)}catch(b){}a.autoPlay&&(a.hoverParse&&d.mouseover(function(){c(this).css("animation-play-state","paused")}).mouseout(function(){c(this).css("animation-play-state","")}),d.css("animation","scroll "+a.animationTime+"s infinite"));d.on("mousedown","img",function(b){b.preventDefault()});if(!a.autoPlay&&!a.swiftMove&&a.clickFront)d.on("click",".animation-child",function(b){b.preventDefault();var a=c(this);b=a.index();var f;switch(b-l){case 1-h:f=1;break;case h-1:f=-1;break;default:f=b-l}l=b;q+=f;m=n+q*p*-1;d.css({transition:"transform "+Math.abs(f)+"s",transform:" translateZ( -"+e+"px) rotateY("+m+"deg)"});a.find("a").length&&setTimeout(function(){location.href=a.find("a")[0].href},1E3*Math.abs(f))});if(a.swiftMove)(new Hammer(k[0])).on("panmove",function(a){a.preventDefault();a=Math.floor(a.deltaX/225);d.css({transition:"transform "+Math.abs(Math.floor(a))+"s",transform:" translateZ( -"+e+"px) rotateY("+(n+m+45*a)+"deg)"})}).on("panend",function(a){n+=45*Math.floor(a.deltaX/225)})};c.fn.css3Slider.defaults={containerId:"css3Slider",containerWidth:"500",containerHeight:"300",perspective:"1400",autoPlay:!1,hoverParse:!0,clickFront:!0,swiftMove:!0,animationTime:"12",translateZmore:"100"}})(jQuery);